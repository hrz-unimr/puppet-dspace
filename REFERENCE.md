# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`dspace::application::cron`](#dspaceapplicationcron): Installs and configures cron jobs for DSpace maintenance (https://wiki.duraspace.org/display/DSDOC6x/Scheduled+Tasks+via+Cron).
* [`dspace::application::node`](#dspaceapplicationnode): Installs and configures a dspace application node in a dspace cluster.
* [`dspace::application::server`](#dspaceapplicationserver): Installs and configures the dspace application server.
* [`dspace::application::source`](#dspaceapplicationsource): Installs and configures the dspace source.
* [`dspace::configuration`](#dspaceconfiguration): General configuration for a DSpace instance.
* [`dspace::database::node`](#dspacedatabasenode): Installs and configures a dspace database node in a dspace cluster.
* [`dspace::database::server`](#dspacedatabaseserver): Installs and configures the dspace database server.
* [`dspace::index::node`](#dspaceindexnode): Installs and configures a dspace index node in a dspace cluster.
* [`dspace::index::server`](#dspaceindexserver): Installs and configures the dspace index server.
* [`dspace::index::source`](#dspaceindexsource): Installs and configures the dspace source.
* [`dspace::portal::node`](#dspaceportalnode): Installs and configures a dspace portal node in a dspace cluster.
* [`dspace::portal::server`](#dspaceportalserver): Installs and configures the dspace portal server as load balancer for horizontal scaling, high-availability and

## Classes

### dspace::application::cron

Class dspace::application::cron

#### Parameters

The following parameters are available in the `dspace::application::cron` class.

##### `dspace_user`

Data type: `String`

Name of UNIX user who runs dspace instance.

Default value: $dspace::application::server::system_user

##### `dspace_user_group`

Data type: `String`

Name of UNIX user group of user who runs dspace instance.

Default value: $dspace::application::server::system_group

##### `dspace_instance_directory`

Data type: `String`

Path to DSpace instance directory.

Default value: $dspace::application::server::instance_directory

##### `media_filter_plugins`

Data type: `Array`

List plugins which should be used in media filter.

Default value: []

### dspace::application::node

Type: dspace::application::node

#### Parameters

The following parameters are available in the `dspace::application::node` class.

##### `cluster`

Data type: `String`

Name of cluster in which the node lives.

Default value: 'default'

##### `host`

Data type: `String`

Host IP adress.

Default value: $::facts['networking']['ip']

##### `hostname`

Data type: `String`

Host name.

Default value: $::fqdn

##### `application_port`

Data type: `Integer`

Port of DSpace application server.

Default value: $dspace::application::server::port

##### `application_proxy_port`

Data type: `Integer`

Proxy port for DSpace application server.

Default value: $application_port

##### `database_port`

Data type: `Integer`

Port of database server.

Default value: $dspace::configuration::database_port

##### `database_proxy_port`

Data type: `Integer`

Proxy port for database server.

Default value: $database_port

##### `index_port`

Data type: `Integer`

Port of index server.

Default value: $dspace::configuration::index_port

##### `index_proxy_port`

Data type: `Integer`

Proxy port for index server.

Default value: $index_port

### dspace::application::server

Class: dspace::application::server

#### Parameters

The following parameters are available in the `dspace::application::server` class.

##### `host`

Data type: `String`

Host name of server.

Default value: 'localhost'

##### `port`

Data type: `Integer`

Port of web application server.

Default value: 8080

##### `system_user`

Data type: `String`

Unix user who runs DSpace instance.

Default value: $dspace::configuration::system_user

##### `system_group`

Data type: `String`

Group of system_user.

Default value: $system_user

##### `tomcat_version`

Data type: `String`

Used Tomcat version.

Default value: $dspace::configuration::tomcat_version

##### `tomcat_instance_directory`

Data type: `String`

Path to Tomcat directory.

Default value: '/var/lib/tomcat8'

##### `java_version`

Data type: `String`

Used Java version.

Default value: $dspace::configuration::java_version

##### `source_directory`

Data type: `String`

Path to DSpace source directory.

Default value: $dspace::configuration::dspace_source_dir

##### `instance_directory`

Data type: `String`

Path to DSpace instance directory.

Default value: $dspace::configuration::dspace_dir

##### `data_directory`

Data type: `String`

Path to DSpace data directory.

Default value: $dspace::configuration::data_dir

##### `build_timeout`

Data type: `Integer`

Time out of Maven build.

Default value: 3600

##### `install_timeout`

Data type: `Integer`

Time out of Ant install.

Default value: 300

##### `clean_backups`

Data type: `Boolean`

Enable clean up of ant install backup directories.

Default value: $dspace::configuration::clean_backups

### dspace::application::source

Class: dspace::application::source

#### Parameters

The following parameters are available in the `dspace::application::source` class.

##### `system_user`

Data type: `String`

Name of UNIX system user for DSpace.

Default value: $dspace::configuration::system_user

##### `system_group`

Data type: `String`

Group of UNIX system user.

Default value: $system_user

##### `source_directory`

Data type: `String`

Path to DSpace code directory.

Default value: $dspace::configuration::dspace_source_dir

##### `git_repository`

Data type: `String`

URL of used DSpace code repository.

Default value: $dspace::configuration::git_repository

##### `git_revision`

Data type: `String`

Revision of used DSpace code repository.

Default value: $dspace::configuration::git_revision

##### `separated_repositories`

Data type: `Boolean`

Use separated repositories for default and customised code.

Default value: $dspace::configuration::separated_code_repositories

##### `dspace_custom_directory`

Data type: `String`

Path to custom code directory.

Default value: $dspace::configuration::dspace_custom_dir

##### `dspace_custom_repository`

Data type: `String`

URL of used custom code respository.

Default value: $dspace::configuration::dspace_custom_repository

##### `dspace_custom_revision`

Data type: `String`

Revision of used custom code repository.

Default value: $dspace::configuration::dspace_custom_revision

### dspace::configuration

Class: dspace::configuration

#### Parameters

The following parameters are available in the `dspace::configuration` class.

##### `system_user`

Data type: `String`

Name of UNIX system user of DSpace instance.

Default value: 'tomcat8'

##### `clean_backups`

Data type: `Boolean`

Enable ANT clean_backups job (https://wiki.duraspace.org/display/DSDOC6x/Ant+targets+and+options).

Default value: `false`

##### `backup_directory`

Data type: `String`

Path to directory for backups, e.g. AIP.

Default value: '/var/lib/dspace/app/archive'

##### `dspace_name`

Data type: `String`

Name of DSpace instance.

Default value: 'DSpace Repository Web Site'

##### `dspace_hostname`

Data type: `String`

Hostname of DSpace instance.

Default value: 'localhost'

##### `dspace_base_url`

Data type: `String`

Base URL of DSpace instance.

Default value: "http://${dspace_hostname}:8080"

##### `dspace_source_dir`

Data type: `String`

Path to directory of DSpace main code.

Default value: '/usr/lib/dspace-source'

##### `dspace_dir`

Data type: `String`

Path to DSpace instance directory.

Default value: '/usr/lib/dspace-instance'

##### `data_dir`

Data type: `String`

Path to DSpace data directory, e.g. a shared one.

Default value: $dspace_dir

##### `assetstore_dir`

Data type: `String`

Path to Assetstore directory.

Default value: "${data_dir}/assetstore"

##### `git_repository`

Data type: `String`

URL to main code repository.

Default value: 'https://github.com/DSpace/DSpace.git'

##### `git_revision`

Data type: `String`

Branch or tag to checkout.

Default value: 'dspace-6.3'

##### `separated_code_repositories`

Data type: `Boolean`

Use separated code repositories for main and customized code (https://wiki.duraspace.org/display/DSDOC6x/Advanced+Customisation).

Default value: `false`

##### `dspace_custom_dir`

Data type: `String`

Path to directory of DSpace customized code.

Default value: '/usr/lib/dspace-custom'

##### `dspace_custom_repository`

Data type: `String`

URL to customized code repository.

Default value: ''

##### `dspace_custom_revision`

Data type: `String`

Branch or tag to checkout.

Default value: ''

##### `system_proxy_url`

Data type: `String`

URL of proxy for OS.

Default value: ''

##### `dspace_proxy_url`

Data type: `String`

URL of proxy for DSpace application.

Default value: $system_proxy_url

##### `git_proxy_url`

Data type: `String`

URL of proxy for Git.

Default value: $system_proxy_url

##### `manage_java_opts`

Data type: `Boolean`

Use pre configured Java Opts.

Default value: `true`

##### `java_opts`

Data type: `String`

Additional Java Opts.

Default value: ''

##### `java_memory_share`

Data type: `Float[0.0, 1.0]`

Size of shared Java memory.

Default value: 0.9

##### `java_version`

Data type: `String`

Java version.

Default value: '8'

##### `java_proxy_url`

Data type: `String`

URL of proxy for JVM.

Default value: $system_proxy_url

##### `manage_maven_opts`

Data type: `Boolean`

Use pre configured Maven Opts.

Default value: `true`

##### `maven_proxy_url`

Data type: `String`

URL of proxy for Maven.

Default value: $system_proxy_url

##### `maven_opts`

Data type: `String`

Additional Maven Opts.

Default value: ''

##### `manage_ant_opts`

Data type: `Boolean`

Use pre configured Ant Opts.

Default value: `true`

##### `ant_proxy_url`

Data type: `String`

URL of proxy for Ant.

Default value: $system_proxy_url

##### `ant_opts`

Data type: `String`

Additional Ant Opts.

Default value: ''

##### `manage_catalina_opts`

Data type: `Boolean`

Use pre configured Tomcat Opts.

Default value: `true`

##### `tomcat_version`

Data type: `String`

Tomcat version.

Default value: '8'

##### `tomcat_proxy_url`

Data type: `String`

URL of proxy for Tomcat.

Default value: $system_proxy_url

##### `catalina_opts`

Data type: `String`

Additional Tomcat Opts.

Default value: ''

##### `default_language`

Data type: `String`

Primary used language.

Default value: 'de'

##### `supported_languages`

Data type: `String`

On Web-UI supported languages.

Default value: 'en, de'

##### `index_host`

Data type: `String`

Hostname of Index instance.

Default value: $dspace_hostname

##### `index_port`

Data type: `Integer`

Port of Index instance.

Default value: 8983

##### `database_host`

Data type: `String`

Hostname of Database instance.

Default value: $dspace_hostname

##### `database_port`

Data type: `Integer`

Port of Database instance.

Default value: 5432

##### `database_name`

Data type: `String`

Name of Database.

Default value: 'dspace'

##### `database_user`

Data type: `String`

Name of Database user.

Default value: 'dspace'

##### `database_passwd`

Data type: `String`

Password of Database user.

Default value: 'dspace'

##### `database_maxconnections`

Data type: `Integer`

Number of maximum open database connections.

Default value: 30

##### `database_maxwait`

Data type: `Integer`

Secounds of maximum wait time of database response.

Default value: 5000

##### `database_maxidle`

Data type: `Integer`

Number of maximum idle database connections.

Default value: 10

##### `mail_host`

Data type: `String`

Hostname of Mail instance.

Default value: $dspace_hostname

##### `mail_port`

Data type: `Integer`

Port of Mail instance.

Default value: 25

##### `mail_user`

Data type: `String`

Name of Mail user.

Default value: 'dspace'

##### `mail_pass`

Data type: `String`

Password of Mail user.

Default value: 'dspace'

##### `mail_sender`

Data type: `String`

Mail address of outgoing mails.

Default value: "noreply@${dspace_hostname}"

##### `mail_feedback_address`

Data type: `String`

Mail address for user feedback.

Default value: "feedback@${dspace_hostname}"

##### `mail_admin_address`

Data type: `String`

Mail address of system administration.

Default value: "admin@${dspace_hostname}"

##### `mail_alert_address`

Data type: `String`

Mail address for alert purposes.

Default value: $mail_admin_address

##### `handle_prefix`

Data type: `String`

DSpace handle prefix.

Default value: '123456789'

##### `log_level`

Data type: `String`

DSpace log level.

Default value: 'INFO'

##### `authentication_method`

Data type: `String`

Multiple methods can be defined comma separated in one String.

Default value: 'org.dspace.authenticate.PasswordAuthentication'

##### `ldap_provider_url`

Data type: `String`

URL of LDAP provider + Port. Has to end with '/'.

Default value: ''

##### `ldap_search_user`

Data type: `String`

DN of user who is allowed to search LDAP tree.

Default value: ''

##### `ldap_search_passwd`

Data type: `String`

Password of LDAP user.

Default value: ''

##### `xml_workflow`

Data type: `Boolean`

Enable configurable workflow in XMLUI.

Default value: `false`

##### `doi_datacite`

Data type: `Boolean`

Enable DOI Service.

Default value: `false`

##### `doi_datacite_prod`

Data type: `Boolean`

Enable if no test DOIs should be used.

Default value: `false`

##### `doi_datacite_user`

Data type: `String`

Name of DataCite user.

Default value: ''

##### `doi_datacite_passwd`

Data type: `String`

Password of DataCite user.

Default value: ''

##### `doi_datacite_prefix`

Data type: `String`

Used DOI prefix.

Default value: '10.5072'

##### `doi_datacite_namespace`

Data type: `String`

Used namespace separator.

Default value: 'dspace'

##### `doi_datacite_publisher`

Data type: `String`

Name of DOI publishing institution.

Default value: 'My Universitiy'

##### `doi_datacite_hosting`

Data type: `String`

Name of data hosting institution.

Default value: $doi_datacite_publisher

##### `doi_datacite_datamanager`

Data type: `String`

Name of data managing institution.

Default value: $doi_datacite_publisher

##### `item_versioning`

Data type: `Boolean`

Enable item versioning. DOI Versioning Service will be also enabled if
DOI Service is used.

Default value: `false`

##### `event_consumers`

Data type: `Array`

Used consumers. DOI and/or Versioning will be added if enabled.

Default value: [ 'discovery', 'eperson' ]

##### `own_configuration`

Data type: `String`

Name of additional configuration file that is included.

Default value: ''

##### `dspace_launcher_commands`

Data type: `Array`

Custom command line tools which should be start as DSpace tool. Add one hash per tool

Default value: []

### dspace::database::node

Type: dspace::database::node

#### Parameters

The following parameters are available in the `dspace::database::node` class.

##### `cluster`

Data type: `String`

Name of cluster in which the node lives.

Default value: 'default'

##### `host`

Data type: `String`

Host IP address.

Default value: $::facts['networking']['ip']

##### `hostname`

Data type: `String`

Host name.

Default value: $::fqdn

##### `database_port`

Data type: `Integer`

Port of database server.

Default value: $dspace::database::server::port

##### `database_proxy_port`

Data type: `Integer`

Proxy port for database server.

Default value: $database_port

### dspace::database::server

Class: dspace::database::server

#### Parameters

The following parameters are available in the `dspace::database::server` class.

##### `version`

Data type: `String`

PostgreSQL version.

Default value: '9.6'

##### `host`

Data type: `String`

Host name of database server.

Default value: $dspace::configuration::database_host

##### `port`

Data type: `Integer`

Port of database server.

Default value: $dspace::configuration::database_port

##### `data_directory`

Data type: `String`

Path to PostgreSQL data directory.

Default value: '/var/lib/postgresql'

##### `system_user`

Data type: `String`

Name of PostgreSQL UNIX system user.

Default value: 'postgres'

##### `system_group`

Data type: `String`

Group of system user.

Default value: 'postgres'

##### `database_name`

Data type: `String`

Name of used database.

Default value: $dspace::configuration::database_name

##### `database_user`

Data type: `String`

Name of database user.

Default value: $dspace::configuration::database_user

##### `database_pass`

Data type: `String`

Password of database user.

Default value: $dspace::configuration::database_passwd

##### `cluster`

Data type: `Optional[String]`

Name of cluster to which database server belongs.

Default value: `undef`

##### `memory_share`

Data type: `Float[0.0, 1.0]`

Size of shared database memory.

Default value: 0.9

##### `manage_memory_share`

Data type: `Boolean`

Memory share is managed by this module.

Default value: `true`

##### `manage_database`

Data type: `Boolean`

Database is managed by this module.

Default value: `true`

### dspace::index::node

Type: dspace::index::node

#### Parameters

The following parameters are available in the `dspace::index::node` class.

##### `cluster`

Data type: `String`

Name of cluster in which the node lives.

Default value: 'default'

##### `host`

Data type: `String`

Host IP address.

Default value: $::facts['networking']['ip']

##### `hostname`

Data type: `String`

Host name

Default value: $::fqdn

##### `index_port`

Data type: `Integer`

Port of index server.

Default value: $dspace::index::server::port

##### `index_proxy_port`

Data type: `Integer`

Proxy port for index server.

Default value: $index_port

### dspace::index::server

Class: dspace::index::server

#### Parameters

The following parameters are available in the `dspace::index::server` class.

##### `host`

Data type: `String`

Host name of index server.

Default value: $dspace::configuration::index_host

##### `port`

Data type: `Integer`

Port of index server.

Default value: $dspace::configuration::index_port

##### `system_user`

Data type: `String`

Name of UNIX system user for Solr index.

Default value: $dspace::configuration::system_user

##### `system_group`

Data type: `String`

Group of system user.

Default value: $system_user

##### `version`

Data type: `String`

Version of Solr index.

Default value: '4.10.4'

##### `java_version`

Data type: `String`

Used Java version.

Default value: $dspace::configuration::java_version

##### `source_directory`

Data type: `String`

Path to Solr code directory.

Default value: '/usr/lib/solr-source'

##### `instance_directory`

Data type: `String`

Path to Solr instance directory.

Default value: '/usr/lib/solr-instance'

##### `data_directory`

Data type: `String`

Path to Solr data directory.

Default value: '/var/lib/solr'

##### `build_timeout`

Data type: `Integer`

Time out of Maven build.

Default value: 360

##### `install_timeout`

Data type: `Integer`

Time out of Ant install.

Default value: 60

##### `tomcat_version`

Data type: `String`

Used Tomcat version.

Default value: $dspace::configuration::tomcat_version

##### `tomcat_instance_directory`

Data type: `String`

Path to Tomcat instance directory.

Default value: '/var/lib/tomcat8'

##### `tomcat_proxy_url`

Data type: `String`

Proxy URL for Tomcat.

Default value: $dspace::configuration::tomcat_proxy_url

### dspace::index::source

Class: dspace::index::source

#### Parameters

The following parameters are available in the `dspace::index::source` class.

##### `system_user`

Data type: `String`

Name of UNIX system user for Solr index.

Default value: $dspace::configuration::system_user

##### `system_group`

Data type: `String`

Group of UNIX system user.

Default value: $system_user

##### `source_directory`

Data type: `String`

Path to code directory.

Default value: '/usr/lib/solr-source'

##### `git_repository`

Data type: `String`

URL of code repository.

Default value: $dspace::configuration::git_repository

##### `git_revision`

Data type: `String`

Branch or tag to checkout.

Default value: $dspace::configuration::git_revision

### dspace::portal::node

Type: dspace::portal::node

@summary: Installs and configures a dspace portal node in a dspace cluster.

#### Parameters

The following parameters are available in the `dspace::portal::node` class.

##### `cluster`

Data type: `String`

Name of cluster in which the node lives.

Default value: 'default'

##### `host`

Data type: `String`

Host IP address.

Default value: $::facts['networking']['ip']

##### `hostname`

Data type: `String`

Host name.

Default value: $::fqdn

##### `application_port`

Data type: `Integer`

Port of DSpace application server.

Default value: $dspace::portal::server::application_port

### dspace::portal::server

Class: dspace::portal::server

maintainability.

#### Parameters

The following parameters are available in the `dspace::portal::server` class.

##### `host`

Data type: `String`

Hostname of web server

Default value: 'localhost'

##### `port`

Data type: `Integer`

Used HTTP-Port.

Default value: 443

##### `ssl`

Data type: `Boolean`

Enable SSL-Support.

Default value: `true`

##### `ssl_key`

Data type: `String`

Path to SSL-Key file.

Default value: '/etc/ssl/private/portal.key'

##### `ssl_cert`

Data type: `String`

Path to SSL-Certifacte file.

Default value: '/etc/ssl/certs/portal.pem'

##### `application_host`

Data type: `String`

Hostname of DSpace application

Default value: 'localhost'

##### `application_port`

Data type: `Integer`

Port of DSpace application

Default value: 8080

##### `no_proxy_paths`

Data type: `Array`

Paths and Files that should not be handled by proxy.

Default value: []

##### `maintenance_ips`

Data type: `Array`

IP-Addresses which can access DSpace application, if maintenance site is enabled.

Default value: []

##### `restrict_metadata_url`

Data type: `Boolean`

Restrict access to _[dspace-url]/metadata/..._ (XMLUI only).

Default value: `false`

